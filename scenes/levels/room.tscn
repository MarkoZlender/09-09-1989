[gd_scene load_steps=13 format=3 uid="uid://hpul37608ek4"]

[ext_resource type="PackedScene" uid="uid://bml51umf76aq0" path="res://scenes/entities/player.tscn" id="1_00n1y"]
[ext_resource type="Script" path="res://scripts/data/player_data.gd" id="2_xhacq"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera_host/phantom_camera_host.gd" id="3_walhi"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/phantom_camera/phantom_camera_3d.gd" id="4_18g83"]
[ext_resource type="Script" path="res://addons/phantom_camera/scripts/resources/tween_resource.gd" id="5_nt5oi"]
[ext_resource type="PackedScene" uid="uid://b065twii5uo1m" path="res://scenes/environment/objects/door.tscn" id="6_r5ft8"]
[ext_resource type="PackedScene" uid="uid://47b6ywwy1olr" path="res://scenes/components/load_level_component.tscn" id="7_w4lsh"]

[sub_resource type="Resource" id="Resource_shn7u"]
script = ExtResource("2_xhacq")
health = 100
mana = 50

[sub_resource type="Resource" id="Resource_xp50d"]
script = ExtResource("5_nt5oi")
duration = 1.0
transition = 0
ease = 2

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_d0rt6"]

[sub_resource type="Sky" id="Sky_bad2b"]
sky_material = SubResource("ProceduralSkyMaterial_d0rt6")

[sub_resource type="Environment" id="Environment_300yn"]
background_mode = 2
sky = SubResource("Sky_bad2b")

[node name="Room" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("1_00n1y")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, 0.0467249, -1.76463)
player_data = SubResource("Resource_shn7u")

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(0.736199, -0.329468, 0.591153, 2.98023e-08, 0.873498, 0.486827, -0.676765, -0.358401, 0.643069, 4.26342, 3.55774, 2.87321)

[node name="PhantomCameraHost" type="Node" parent="Camera3D"]
process_priority = 300
process_physics_priority = 300
script = ExtResource("3_walhi")

[node name="PhantomCamera3D" type="Node3D" parent="." node_paths=PackedStringArray("look_at_target")]
transform = Transform3D(0.736199, -0.329467, 0.591153, 2.98023e-08, 0.873498, 0.486827, -0.676765, -0.358401, 0.643069, 4.26342, 3.55774, 2.87321)
script = ExtResource("4_18g83")
look_at_mode = 2
look_at_target = NodePath("../Player")
tween_resource = SubResource("Resource_xp50d")
tween_on_load = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_300yn")

[node name="Floor" type="CSGBox3D" parent="."]
use_collision = true
size = Vector3(20, 0.1, 20)

[node name="Wall1" type="CSGBox3D" parent="."]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, -4.3892, 2.465, 0)
use_collision = true
size = Vector3(5, 0.4, 10)

[node name="Wall2" type="CSGBox3D" parent="."]
transform = Transform3D(1.91069e-15, -4.37114e-08, -1, -1, -4.37114e-08, 0, -4.37114e-08, 1, -4.37114e-08, 0.512673, 2.465, -4.65484)
use_collision = true
size = Vector3(5, 0.4, 10)

[node name="Wall3" type="CSGBox3D" parent="."]
transform = Transform3D(4.37114e-08, -1, 8.74228e-08, -1, -4.37114e-08, 0, 3.82137e-15, -8.74228e-08, -1, 5.16851, 2.465, -0.343399)
use_collision = true
size = Vector3(5, 0.4, 10)

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.948948, 0)
use_collision = true

[node name="Wall4" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(-5.73206e-15, 1.31134e-07, 1, -1, -4.37114e-08, 0, 4.37114e-08, -1, 1.31134e-07, 0.424312, 1.51605, 3.44967)
use_collision = true
size = Vector3(5, 0.4, 10)

[node name="CSGBox3D5" type="CSGBox3D" parent="CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0.0941904, 3.48426)
operation = 2
size = Vector3(2, 1, 3)

[node name="Door" parent="." instance=ExtResource("6_r5ft8")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 1.5, 3.37099)
next_scene = "res://scenes/levels/debug_level.tscn"

[node name="LoadLevelComponent" parent="." instance=ExtResource("7_w4lsh")]
debug_mode = true
