[gd_scene load_steps=10 format=3 uid="uid://bmcuon78mxwm0"]

[ext_resource type="PackedScene" uid="uid://ds0d7p7idbuc4" path="res://scenes/entities/player.tscn" id="2_t3eph"]
[ext_resource type="Shader" uid="uid://dvqj5decgwjkr" path="res://resources/crt_shader.gdshader" id="3_gdr46"]
[ext_resource type="Terrain3DMaterial" uid="uid://14xa2u6bomkw" path="res://resources/terrain3d/terrain_3d_material.tres" id="4_whrqo"]
[ext_resource type="Terrain3DAssets" uid="uid://wpovl8xjxfag" path="res://resources/terrain3d/terrain_3d_assets.tres" id="5_46gqi"]
[ext_resource type="PackedScene" uid="uid://byv5ix5sf5y4w" path="res://scenes/entities/enemy.tscn" id="5_tmfig"]
[ext_resource type="PackedScene" uid="uid://bj0f2fjufm3hk" path="res://scenes/environment/props/campfire_pit.tscn" id="5_whrqo"]

[sub_resource type="Environment" id="Environment_gdr46"]
background_mode = 1
ambient_light_source = 2
ambient_light_color = Color(0.103744, 0.103744, 0.103744, 1)
ambient_light_energy = 5.0

[sub_resource type="NavigationMesh" id="NavigationMesh_46gqi"]
vertices = PackedVector3Array(9.009, 0.01001, -141.892, 8.008, 0.01001, -142.893, 7.75775, 0.01001, -141.892, 45.7958, 0.01001, -110.11, 45.7958, 0.01001, -111.361, 44.7948, 0.01001, -112.112, 43.7938, 0.01001, -115.115, 43.7938, 0.01001, -116.366, 42.7928, 0.01001, -117.117, 42.7928, 0.01001, -118.368, 41.7918, 0.01001, -119.119, 41.7918, 0.01001, -120.37, 40.7908, 0.01001, -121.121, 40.7908, 0.01001, -122.372, 39.7898, 0.01001, -123.123, 26.026, 0.01001, -136.887, 25.2753, 0.01001, -137.888, 24.024, 0.01001, -137.888, 23.2733, 0.01001, -138.889, 22.022, 0.01001, -138.889, 46.7968, 0.01001, -107.608, 46.7968, 0.01001, -109.359, 44.7948, 0.01001, -114.364, 21.2713, 0.01001, -139.89, 19.019, 0.01001, -139.89, 18.2683, 0.01001, -140.891, 16.016, 0.01001, -140.891, 36.7868, 0.01001, -127.127, 39.7898, 0.01001, -124.374, 30.03, 0.01001, -133.884, 27.2773, 0.01001, -136.887, 15.2653, 0.01001, -141.892, 0, 0.01001, -141.892, 36.7868, 0.01001, -128.378, 31.2813, 0.01001, -133.884, 0, 0.01001, -107.357, 47.7978, 0.01001, -103.604, 47.7978, 0.01001, -105.355, 46.7968, 0.01001, -106.106, 0, 0.01001, -103.353, 48.7988, 0.01001, -99.5995, 48.7988, 0.01001, -101.351, 47.7978, 0.01001, -102.102, 0, 0.01001, -99.3493, 49.7998, 0.01001, -94.5945, 49.7998, 0.01001, -97.3473, 48.7988, 0.01001, -98.098, 0, 0.01001, -94.3443, 50.8008, 0.01001, -87.5875, 50.8008, 0.01001, -92.3423, 49.7998, 0.01001, -93.093, 0, 0.01001, -87.3373, 50.8008, 0.01001, -81.081, 51.8018, 0.01001, -81.3313, 51.8018, 0.01001, -85.3353, 50.8008, 0.01001, -86.086, 0, 0.01001, -79.5795, 51.3013, 0.01001, -79.5795, 51.8018, 0.01001, -72.5725, 51.8018, 0.01001, -77.3273, 50.8008, 0.01001, -78.078, 0, 0.01001, -72.3223, 52.8028, 0.01001, -67.5675, 52.8028, 0.01001, -70.3203, 51.8018, 0.01001, -71.071, 0, 0.01001, -67.3173, 53.8038, 0.01001, -62.5625, 53.8038, 0.01001, -65.3153, 52.8028, 0.01001, -66.066, 0, 0.01001, -62.3123, 53.8038, 0.01001, -38.038, 54.8048, 0.01001, -38.2882, 54.8048, 0.01001, -44.044, 54.8048, 0.01001, -54.054, 54.8048, 0.01001, -60.3103, 53.8038, 0.01001, -61.061, 55.5555, 0.01001, -44.2943, 55.5555, 0.01001, -53.5535, 0, 0.01001, -36.7868, 53.8038, 0.01001, -36.5365, 36.7868, 0.01001, -7.007, 37.7878, 0.01001, -7.25725, 37.7878, 0.01001, -8.008, 42.7928, 0.01001, -13.013, 43.7938, 0.01001, -13.2633, 43.7938, 0.01001, -14.014, 38.7888, 0.01001, -8.25825, 39.039, 0.01001, -9.25925, 40.7908, 0.01001, -10.01, 41.7918, 0.01001, -10.2603, 42.042, 0.01001, -11.2613, 44.7948, 0.01001, -14.2643, 45.045, 0.01001, -15.2653, 45.7958, 0.01001, -17.017, 46.7968, 0.01001, -17.2673, 47.047, 0.01001, -18.2683, 35.035, 0.01001, -6.25625, 36.7868, 0.01001, -6.25625, 40.7908, 0.01001, -9.25925, 42.7928, 0.01001, -11.2613, 45.7958, 0.01001, -15.2653, 47.7978, 0.01001, -18.2683, 47.7978, 0.01001, -20.02, 0.75075, 0.01001, -4.25425, 1.5015, 0.01001, -3.25325, 2.75275, 0.01001, -3.25325, 29.029, 0.01001, -3.25325, 30.7808, 0.01001, -3.25325, 31.031, 0.01001, -4.25425, 32.7828, 0.01001, -4.25425, 33.033, 0.01001, -5.25525, 34.7848, 0.01001, -5.25525, 48.7988, 0.01001, -20.2703, 48.7988, 0.01001, -22.022, 49.7998, 0.01001, -22.2723, 49.7998, 0.01001, -24.024, 50.8008, 0.01001, -27.027, 51.8018, 0.01001, -27.2773, 51.8018, 0.01001, -29.029, 3.5035, 0.01001, -2.25225, 5.75575, 0.01001, -2.25225, 26.026, 0.01001, -2.25225, 28.7788, 0.01001, -2.25225, 50.8008, 0.01001, -24.2743, 52.8028, 0.01001, -29.2793, 52.8028, 0.01001, -32.032, 53.8038, 0.01001, -32.2823, 0, 0.01001, -4.25425, 7.007, 0.01001, -0.25025, 26.5265, 0.01001, -0.25025, 25.7758, 0.01001, -1.001, 7.007, 0.01001, -1.001)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 6), PackedInt32Array(10, 9, 8), PackedInt32Array(12, 11, 10), PackedInt32Array(14, 13, 12), PackedInt32Array(17, 16, 15), PackedInt32Array(19, 18, 17), PackedInt32Array(3, 21, 20), PackedInt32Array(6, 22, 5), PackedInt32Array(24, 23, 19), PackedInt32Array(26, 25, 24), PackedInt32Array(3, 20, 5), PackedInt32Array(5, 20, 27), PackedInt32Array(27, 28, 14), PackedInt32Array(15, 30, 29), PackedInt32Array(8, 6, 5), PackedInt32Array(24, 19, 17), PackedInt32Array(0, 31, 26), PackedInt32Array(27, 14, 12), PackedInt32Array(15, 29, 17), PackedInt32Array(17, 29, 24), PackedInt32Array(24, 29, 26), PackedInt32Array(10, 8, 5), PackedInt32Array(2, 0, 26), PackedInt32Array(32, 2, 26), PackedInt32Array(33, 27, 34), PackedInt32Array(34, 27, 29), PackedInt32Array(12, 10, 27), PackedInt32Array(27, 10, 5), PackedInt32Array(29, 27, 26), PackedInt32Array(26, 27, 32), PackedInt32Array(32, 27, 35), PackedInt32Array(35, 27, 20), PackedInt32Array(37, 36, 38), PackedInt32Array(38, 36, 39), PackedInt32Array(38, 39, 35), PackedInt32Array(35, 20, 38), PackedInt32Array(41, 40, 42), PackedInt32Array(42, 40, 43), PackedInt32Array(42, 43, 39), PackedInt32Array(39, 36, 42), PackedInt32Array(45, 44, 46), PackedInt32Array(46, 44, 47), PackedInt32Array(46, 47, 43), PackedInt32Array(43, 40, 46), PackedInt32Array(49, 48, 50), PackedInt32Array(50, 48, 51), PackedInt32Array(50, 51, 47), PackedInt32Array(47, 44, 50), PackedInt32Array(53, 52, 54), PackedInt32Array(54, 52, 55), PackedInt32Array(55, 52, 51), PackedInt32Array(51, 52, 56), PackedInt32Array(52, 57, 56), PackedInt32Array(51, 48, 55), PackedInt32Array(59, 58, 60), PackedInt32Array(60, 58, 61), PackedInt32Array(60, 61, 56), PackedInt32Array(56, 57, 60), PackedInt32Array(63, 62, 64), PackedInt32Array(64, 62, 65), PackedInt32Array(64, 65, 61), PackedInt32Array(61, 58, 64), PackedInt32Array(67, 66, 68), PackedInt32Array(68, 66, 69), PackedInt32Array(68, 69, 65), PackedInt32Array(65, 62, 68), PackedInt32Array(72, 71, 70), PackedInt32Array(75, 74, 73), PackedInt32Array(76, 72, 77), PackedInt32Array(77, 72, 73), PackedInt32Array(70, 79, 78), PackedInt32Array(72, 70, 73), PackedInt32Array(73, 70, 75), PackedInt32Array(75, 70, 78), PackedInt32Array(75, 78, 69), PackedInt32Array(69, 66, 75), PackedInt32Array(80, 82, 81), PackedInt32Array(83, 85, 84), PackedInt32Array(86, 82, 87), PackedInt32Array(89, 88, 90), PackedInt32Array(91, 85, 92), PackedInt32Array(94, 93, 95), PackedInt32Array(80, 97, 96), PackedInt32Array(88, 98, 87), PackedInt32Array(83, 99, 90), PackedInt32Array(93, 100, 92), PackedInt32Array(102, 101, 95), PackedInt32Array(105, 104, 103), PackedInt32Array(108, 107, 106), PackedInt32Array(110, 109, 108), PackedInt32Array(96, 111, 110), PackedInt32Array(113, 112, 102), PackedInt32Array(115, 114, 113), PackedInt32Array(118, 117, 116), PackedInt32Array(120, 119, 105), PackedInt32Array(106, 122, 121), PackedInt32Array(116, 123, 115), PackedInt32Array(125, 124, 118), PackedInt32Array(82, 80, 96), PackedInt32Array(88, 87, 90), PackedInt32Array(90, 87, 83), PackedInt32Array(93, 92, 85), PackedInt32Array(102, 95, 93), PackedInt32Array(79, 126, 125), PackedInt32Array(82, 96, 87), PackedInt32Array(87, 96, 110), PackedInt32Array(93, 85, 83), PackedInt32Array(120, 103, 121), PackedInt32Array(121, 103, 93), PackedInt32Array(93, 103, 78), PackedInt32Array(93, 78, 79), PackedInt32Array(120, 105, 103), PackedInt32Array(108, 106, 121), PackedInt32Array(116, 115, 113), PackedInt32Array(118, 116, 125), PackedInt32Array(125, 116, 79), PackedInt32Array(102, 93, 113), PackedInt32Array(113, 93, 116), PackedInt32Array(116, 93, 79), PackedInt32Array(103, 127, 78), PackedInt32Array(108, 121, 110), PackedInt32Array(110, 121, 87), PackedInt32Array(87, 121, 83), PackedInt32Array(83, 121, 93), PackedInt32Array(131, 130, 128), PackedInt32Array(128, 130, 129), PackedInt32Array(130, 131, 121), PackedInt32Array(121, 131, 120)]
cell_height = 0.01
agent_height = 0.2
agent_radius = 0.05
agent_max_climb = 0.05

[sub_resource type="ShaderMaterial" id="ShaderMaterial_5un2j"]
shader = ExtResource("3_gdr46")
shader_parameter/overlay = true
shader_parameter/scanlines_opacity = 0.0
shader_parameter/scanlines_width = 0.0
shader_parameter/grille_opacity = 0.0
shader_parameter/resolution = Vector2(320, 180)
shader_parameter/pixelate = false
shader_parameter/roll = false
shader_parameter/roll_speed = 0.0
shader_parameter/roll_size = 0.0
shader_parameter/roll_variation = 1.8
shader_parameter/distort_intensity = 0.05
shader_parameter/noise_opacity = 0.4
shader_parameter/noise_speed = 5.0
shader_parameter/static_noise_intensity = 0.06
shader_parameter/aberration = 0.015
shader_parameter/brightness = 1.4
shader_parameter/discolor = true
shader_parameter/warp_amount = 1.0
shader_parameter/clip_warp = false
shader_parameter/vignette_intensity = 0.3
shader_parameter/vignette_opacity = 0.391

[node name="OpenSpace" type="Node3D"]

[node name="Player" parent="." instance=ExtResource("2_t3eph")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.43232, 1.03613, -53.9312)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_gdr46")

[node name="NavigationRegion3D2" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_46gqi")

[node name="Terrain3D" type="Terrain3D" parent="NavigationRegion3D2"]
data_directory = "res://resources/terrain3d"
material = ExtResource("4_whrqo")
assets = ExtResource("5_46gqi")
collision_mask = 7
top_level = true
metadata/_edit_lock_ = true

[node name="CRTShader" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_5un2j")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Enemy" parent="." node_paths=PackedStringArray("player") instance=ExtResource("5_tmfig")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.05241, 0.992381, -55.6047)
player = NodePath("../Player")

[node name="campfire" parent="." instance=ExtResource("5_whrqo")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.72667, 0, -55.1835)
